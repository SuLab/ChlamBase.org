<landing-header page="'main'"></landing-header>
<div class="container-fluid" style="padding-top: 15vh; padding-bottom: 40px; background: #414449;">
    <div class="container">
<<<<<<< HEAD
        <div class="panel" style="border: 3px grey solid;">
            <div class="padding20 text-center" ng-class="{'bg-434': $ctrl.currentOrg.taxonLabel === 'Chlamydia trachomatis 434/BU','bg-DUX': $ctrl.currentOrg.taxonLabel === 'Chlamydia trachomatis D/UW-3/CX','bg-NIGG': $ctrl.currentOrg.taxonLabel === 'Chlamydia muridarum Nigg','bg-CW': $ctrl.currentOrg.taxonLabel === 'Chlamydia pneumoniae CWL029'}">
              <div class="row">
                <div class="col-sm-2">
                  <a  tooltip-placement="bottom" uib-tooltip="Genome Level" class="btn themeButton-black" href="/organism/{{ $ctrl.currentTaxid }}">
                  <i class="fas fa-chevron-left fa-2x"></i>
                  </a>
                </div>
                <organism-view org="$ctrl.currentOrg" taxid="$ctrl.currentOrg.taxid"></organism-view>
              </div>
=======
        <div class="panel panel-info">
            <div class="bg-purple padding20 text-center">
              <a style="margin-bottom: 5px;width:100%"
                 href="/organism/{{ $ctrl.currentTaxid }}"
                 tooltip-placement="right" uib-tooltip="Click to return to genome level"
                 >
                  <div style="width:auto;display:inline">
                      <h2 class="link-light" style="display:inline;">
                          <strong>{{ $ctrl.orgName}}</strong> &nbsp; NCBI TaxID: {{ $ctrl.currentTaxid }}
                      </h2>
                  </div>
              </a>
>>>>>>> origin
            </div>
            <uib-tabset active="active" class="bg-purple noBorder">
              <uib-tab index="'overview'">
                <uib-tab-heading >
                  Gene Overview
                </uib-tab-heading>
                <gene-overview data="$ctrl.currentGene" annotations="$ctrl.annotations"></gene-overview>
              </uib-tab>
              <uib-tab index="'jbrowse'" select="$ctrl.jLoad()">
                <uib-tab-heading >
                  JBrowse Panel
                </uib-tab-heading>
                <div id="jbrowse-div">
                  <jbrowse-view start="$ctrl.currentGene.genStart" end="$ctrl.currentGene.genEnd" delay="true"
                                refseq="$ctrl.currentGene.refseqGenome" highlight="true" load="$ctrl.jLoad"></jbrowse-view>
                </div>
              </uib-tab>
              <!-- <uib-tab index="'product'" ng-show="$ctrl.settings['product']">
                <uib-tab-heading >
                  Gene Product
                </uib-tab-heading>
                <protein-view protein="$ctrl.currentGene"></protein-view>
              </uib-tab> -->
              <!-- <uib-tab index="'ortholog'" ng-show="$ctrl.settings['ortholog']">
                <uib-tab-heading >
                  Ortholog(s)
                </uib-tab-heading>
                <ortholog-view locus-tag="$ctrl.currentGene.locusTag"></ortholog-view>
              </uib-tab> -->
              <uib-tab index="'alignment'" ng-show="$ctrl.settings['alignment']">
                <uib-tab-heading >
                  Ortholog Alignment(s)
                </uib-tab-heading>
                <alignment-view locus-tag="$ctrl.currentGene.locusTag" tax-id="$ctrl.currentGene.taxid"></alignment-view>
              </uib-tab>
              <!-- <uib-tab index="'expression'" ng-show="$ctrl.settings['expression']">
                <uib-tab-heading >
                  Expression
                </uib-tab-heading>
<<<<<<< HEAD
                <expression-view data="$ctrl.annotations.expression" gene="$ctrl.currentGene"></expression-view>
              </uib-tab> -->
=======
                <expression-view data="$ctrl.annotations.expression" gene="$ctrl.currentGene" belland="$ctrl.currentGene.expression"></expression-view>
              </uib-tab>
>>>>>>> origin
              <uib-tab index="'go'" ng-show="$ctrl.settings['go']">
                <uib-tab-heading>
                  Function(s) (<span class="text-blue">{{$ctrl.annotations.go.molfunc.length + $ctrl.annotations.go.bioproc.length}}</span>)
                </uib-tab-heading>
                <div class="panel">
                    <div class="panel-body" style="border-bottom: solid #bce8f1 1px">
                        <div class="row">
                            <div class="col-sm-6 385d94" style="padding:3px">
                                <div class="panel">
                                    <div class="panel-heading text-purple">
                                      <h2>Molecular Function</h2>
                                    </div>
                                    <div class="panel-body">
                                        <gene-ontology gene="$ctrl.currentGene" goclass='mf_button'
                                                       data="$ctrl.annotations.go.molfunc"></gene-ontology>
                                    </div>

                                </div>
                            </div>
                            <div class="col-sm-6" style="padding:3px">
                                <div class="panel ">
                                    <div class="panel-heading text-purple">
                                      <h2>Biological Process</h2>
                                    </div>
                                    <div class="panel-body">
                                        <gene-ontology gene="$ctrl.currentGene" goclass='bp_button'
                                                       data="$ctrl.annotations.go.bioproc"></gene-ontology>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </uib-tab>
              <!-- <uib-tab index="'localizations'" ng-show="$ctrl.settings['localizations']">
                <uib-tab-heading >
                  Localization(s) (<span class="text-blue">{{$ctrl.annotations.go.cellcomp.length}}</span>)
                </uib-tab-heading>
                <div class="panel">
                    <div class="panel-body" style="border-bottom: solid #bce8f1 1px">
                      <localization-view gene="$ctrl.currentGene" components="$ctrl.annotations.go.cellcomp"></localization-view>
                    </div>
                </div>
              </uib-tab> -->
              <uib-tab index="'operon'" ng-show="$ctrl.settings['operon']">
                <uib-tab-heading>
                  Operon (<span class="text-blue">{{$ctrl.annotations.operon.length}}</span>)
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body">
                        <operon-annotations operon="$ctrl.annotations.operon" allorggenes="$ctrl.allorggenes" gene="$ctrl.currentGene"></operon-annotations>
                    </div>
                </div>
              </uib-tab>
              <uib-tab index="'interpro'" ng-show="$ctrl.settings['interpro']">
                <uib-tab-heading>
                  InterPro Domains (<span class="text-blue">{{$ctrl.annotations.interpro.length}}</span>)
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body">
                        <inter-pro data="$ctrl.annotations.interpro"></inter-pro>
                    </div>
                </div>
              </uib-tab>
              <uib-tab index="'enzyme'" ng-show="$ctrl.settings['enzyme']">
                <uib-tab-heading >
                  Enzyme (<span class="text-blue">{{$ctrl.annotations.ecnumber.length}}</span>)
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body">
                        <enzyme-view ecnumber="$ctrl.annotations.ecnumber" reaction="$ctrl.annotations.reaction"></enzyme-view>
                    </div>
                </div>
              </uib-tab>
              <!-- <uib-tab index="'mutants'" ng-show="$ctrl.settings['mutants']" >
                <uib-tab-heading >
                  Mutants (<span class="text-blue">{{ $ctrl.annotations.mutants.length }}</span>)
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body">
                        <mutants-view data="$ctrl.annotations.mutants"></mutants-view>
                    </div>
                </div>
<<<<<<< HEAD
              </uib-tab> -->
                <!--
=======
              </uib-tab>
>>>>>>> origin
               <uib-tab index="'movie'" ng-show="$ctrl.settings['movie']">
                   <uib-tab-heading>
                       Movie Data
                   </uib-tab-heading>
                   <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                       <div class="panel-body">
                           <movie-view uri="$ctrl.currentGene.movie"></movie-view>
                       </div>
                   </div>
               </uib-tab>
              <uib-tab index="'hostpath'" ng-show="$ctrl.settings['hostpath']">
                <uib-tab-heading >
                  Protein Interaction(s) (<span class="text-blue">{{$ctrl.annotations.hostpath.length}}</span>)
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body" style="max-height: 400px; overflow: auto">
                        <host-pathogen data="$ctrl.annotations.hostpath"></host-pathogen>
                    </div>
                </div>
              </uib-tab>
              <!-- <uib-tab index="'pubs'" ng-show="$ctrl.settings['pubs']">
                <uib-tab-heading >
                  Related Publications
                </uib-tab-heading>
                <div class="panel " style="border-bottom: solid #bce8f1 1px;">
                    <div class="panel-body" style="max-height: 400px; overflow: auto">
                        <linked-pubs pubs="$ctrl.annotations.pubList"></linked-pubs>
                    </div>
                </div>
              </uib-tab> -->
              <!-- <uib-tab index="'history'" ng-show="$ctrl.settings['history']">
                <uib-tab-heading >
                  Revision History
                </uib-tab-heading>
                <div class="panel">
                    <div class="panel-body" style="border-bottom: solid #bce8f1 1px">
                        <history-view gene="$ctrl.currentGene.geneQID" protein="$ctrl.currentGene.proteinQID"></history-view>
                    </div>
                </div>
              </uib-tab> -->
            </uib-tabset>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="authorization_button" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content" style="padding:10px">
        	<div class="modal-header bg-dark">
        		<h4 class="modal-title text-pink-light">{{$ctrl.appData.title}} Authorization</h4>
        	</div>
        	<div class="modal-body">
        		<oauth-form ng-hide="showHelp"></oauth-form>
            	<help-form ng-show="showHelp"></help-form>
        	</div>
            <div class="modal-footer bg-dark">
            	<button type="button" class="btn themeButton-small" style="float:left" ng-click="showHelp = !showHelp">
            		<span ng-hide="showHelp">Need Help?</span>
            		<span ng-show="showHelp">Back</span>
            	</button>
                <button type="button" class="btn themeButton-small" data-dismiss="modal" ng-click="showHelp = false">Close</button>
            </div>
        </div>
    </div>
</div>
