<style>
    body {
        padding-top: 100px;
    }

    .container-fluid {
        /*height: 100%;*/
        padding-top: 30px;
        padding-bottom: 30px;

    }

    .navbar-custom {
        background-color: #385d94;
        color: whitesmoke;
    }

</style>
<div ng-show="$ctrl.loading" class="overlay">
    <div class="loading-img"></div>
</div>
<nav class="navbar navbar-custom navbar-fixed-top">
	 <div class="navbar-header" style="padding: 20px">
           <a style="color: whitesmoke; font-size:20px" href="/">ChlamBase</a>
           <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbarHeader">
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
      		</button>
       </div>
       
       <div class="collapse navbar-collapse" id="myNavbarHeader">
       	<ul class="nav navbar-nav navbar-right" style="padding-top: 15px; margin-right: 20px">
       		<li><keyword-form></keyword-form></li>
       	</ul>
       </div>
</nav>
<div class="container-fluid" style="color:#385d94">
    <div class="row">
        <div class="col-md-2">
            <div class="panel" style="padding: 15px" data-intro="Select which genomes you wish to search by clicking the checkboxes here." data-step="5">
            	<h5>Organism</h5>
                <div class="checkbox" ng-repeat="value in $ctrl.orgData">
                    <label>
                        <input type="checkbox" ng-change="$ctrl.facetOrganism(value)" ng-checked="value.check"
                               ng-model="value.check"> {{value.taxonLabel}}
                    </label>
                </div>
                <br>
            </div>
        </div>
        <div class="col-md-8">
        	<h3 style="text-align: center">Chlambase Search</h3>
        	<div class="form-inline" style="white-space: nowrap; margin-bottom: 10px">
				<label for="keywordSearch">Search: </label>
				<input ng-model="$ctrl.keyword" 
					   type="text" 
					   class="form-control ui-widget" 
					   id="keywordSearch"
				       placeholder="Ex. Kinase or CTL0260"
				   	   style="width: 70%; display: inline"
				   	   data-intro="If there is no applicable filter for your query, enter it here. Or, leave this blank for a holistic search. This ends the tutorial!" data-step="6">
				<button ng-click="$ctrl.advSearch()" class="btn btn-default" style="display: inline"><span class="glyphicon glyphicon-search"></span></button>
				<a data-toggle="collapse" data-target="#options" data-intro="I will help you get started with advanced search! Click this link to show the list of filters. Make sure it is expanded for this tutorial!" 
					data-step="1">Advanced Search <span class="glyphicon glyphicon-chevron-down"></span></a>
				<button ng-click="$ctrl.startJS()" class="btn btn-info" style="display: inline"><span class="glyphicon glyphicon-question-sign"></span></button>
			</div>
			<div id="options" class="collapse table-responsive" style="margin-bottom: 10px">
				<table class="table table-hover" style="overflow: hidden">
					<col width="40%">
					<col width="30%">
					<col width="30%">
					<tr>
						<th>Terms and Interactions</th>
						<th>Identifiers</th>
						<th>Mutations</th>
					</tr>
					<tr>
						<td>
							<form class="form-inline" >
				            	<label data-intro="This is the filter name, or the criteria you wish to search by." data-step="2">Molecular Function: </label>
				                <input data-intro="Check this box if you wish to apply this filter." data-step="3" type="checkbox" ng-checked="$ctrl.mf" ng-model="$ctrl.mf">
				                <input data-intro="Enter the value of the criteria you wish to search by. Or, leave it blank if you don't care what it is." data-step="4" 
				                	type="text" ng-model="$ctrl.mf_text"class="form-control" uib-typeahead="go as go.goterm_label.value for go in $ctrl.mfTerms($viewValue)"
				                      typeahead-wait-ms="500" typeahead-on-select="$ctrl.mf_text = $item.goterm_label.value">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>Entrez: </label>
				                <input type="checkbox" ng-checked="$ctrl.entrez" ng-model="$ctrl.entrez">
				                <input type="text" ng-model="$ctrl.entrez_text" class="form-control">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>Chemically Induced Mutants: </label>
				                <input type="checkbox" ng-checked="$ctrl.cm" ng-model="$ctrl.cm">
				            </form>
						</td>
					</tr>
					<tr>
						<td>
							<form class="form-inline" >
				            	<label>Biological Process: </label>
				                <input type="checkbox" ng-checked="$ctrl.bp" ng-model="$ctrl.bp">
				                <input type="text" ng-model="$ctrl.bp_text" class="form-control" uib-typeahead="go as go.goterm_label.value for go in $ctrl.bpTerms($viewValue)"
			                       typeahead-wait-ms="500" typeahead-on-select="$ctrl.bp_text = $item.goterm_label.value">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>Uniprot: </label>
				                <input type="checkbox" ng-checked="$ctrl.uniprot" ng-model="$ctrl.uniprot">
				                <input type="text" ng-model="$ctrl.uniprot_text" class="form-control">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>Transposition Mutants: </label>
				                <input type="checkbox" ng-checked="$ctrl.tm" ng-model="$ctrl.tm">
				            </form>
						</td>
					</tr>
					<tr>
						<td>
							<form class="form-inline" >
				            	<label>Cellular Component: </label>
				                <input type="checkbox" ng-checked="$ctrl.cc" ng-model="$ctrl.cc">
				                <input type="text" ng-model="$ctrl.cc_text" class="form-control" uib-typeahead="go as go.goterm_label.value for go in $ctrl.ccTerms($viewValue)"
			                       typeahead-wait-ms="500" typeahead-on-select="$ctrl.cc_text = $item.goterm_label.value">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>RefSeq: </label>
				                <input type="checkbox" ng-checked="$ctrl.refseq" ng-model="$ctrl.refseq">
				                <input type="text" ng-model="$ctrl.refseq_text" class="form-control">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>Intron Mutants: </label>
				                <input type="checkbox" ng-checked="$ctrl.im" ng-model="$ctrl.im">
				            </form>
						</td>
					</tr>
					<tr>
						<td>
							<form class="form-inline" >
				            	<label>Host Pathogen Interaction: </label>
				                <input type="checkbox" ng-checked="$ctrl.hp" ng-model="$ctrl.hp">
				                <input type="text" ng-model="$ctrl.hp_text" class="form-control">
				            </form>
						</td>
						<td>
							<form class="form-inline" >
				            	<label>PDB: </label>
				                <input type="checkbox" ng-checked="$ctrl.pdb" ng-model="$ctrl.pdb">
				                <input type="text" ng-model="$ctrl.pdb_text" class="form-control">
				            </form>
						</td>
						<td>
							 <form class="form-inline" >
				            	<label>Recombination Mutants: </label>
				                <input type="checkbox" ng-checked="$ctrl.rm" ng-model="$ctrl.rm">
				            </form>
						</td>
					</tr>
				</table>
			</div>
			<div ng-show="$ctrl.mf || $ctrl.bp || $ctrl.cc || $ctrl.hp || $ctrl.entrez || $ctrl.uniprot || $ctrl.refseq || $ctrl.cm || $ctrl.tm || $ctrl.im|| $ctrl.rm || $ctrl.pdb" style="margin: 5px">
				<span class="glyphicon glyphicon-exclamation-sign"> You have the following filters applied: </span>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.mf" ng-click="$ctrl.mf = false" style="display: inline">Molecular Function <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.bp" ng-click="$ctrl.bp = false" style="display: inline">Biological Process <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.cc" ng-click="$ctrl.cc = false" style="display: inline">Cellular Component <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.hp" ng-click="$ctrl.hp = false" style="display: inline">Host Pathogen Interaction <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.entrez" ng-click="$ctrl.entrez = false" style="display: inline">Entrez <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.uniprot" ng-click="$ctrl.uniprot = false" style="display: inline">Uniprot <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.refseq" ng-click="$ctrl.refseq = false" style="display: inline">RefSeq <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.pdb" ng-click="$ctrl.pdb = false" style="display: inline">PDB <span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.cm" ng-click="$ctrl.cm = false" style="display: inline">Chemical Mutants<span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.tm" ng-click="$ctrl.tm = false" style="display: inline">Transposition Mutants<span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.im" ng-click="$ctrl.im = false" style="display: inline">Intron Mutants<span class="glyphicon glyphicon-remove"></span></button>
				<button class="btn btn-default btn-xs" ng-show="$ctrl.rm" ng-click="$ctrl.rm = false" style="display: inline">Recombination Mutants<span class="glyphicon glyphicon-remove"></span></button>
			</div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 ng-show="$ctrl.keywordResult">Gene results for '{{$ctrl.keywordResult}}': {{$ctrl.chlamGenes.currentKW.length}}</h4>
                    <h4 ng-hide="$ctrl.keywordResult">Genes matching advanced criteria: {{$ctrl.chlamGenes.currentKW.length}}</h4>
                </div>
                <keyword-paginated data="$ctrl.chlamGenes.currentKW"></keyword-paginated>
            </div>
        </div>
        <div class="col-md-2">
        </div>
    </div>
</div>
