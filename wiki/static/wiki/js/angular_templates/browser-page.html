<div ng-show="$ctrl.loading" class="overlay">
    <div class="loading-img"></div>
</div>
<nav class="navbar navbar-fixed-top">
	 <div class="navbar-header" style="padding: 20px">
           <a style="color: whitesmoke; font-size:20px" href="/">{{$ctrl.appData.title}}</a>
           <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbarHeader">
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
      		</button>
       </div>
       
       <div class="collapse navbar-collapse" id="myNavbarHeader">
       	<ul class="nav navbar-nav navbar-right" style="padding-top: 15px; margin-right: 20px">
       		<li><keyword-form></keyword-form></li>
       	</ul>
       </div>
</nav>
<div class="container-fluid" style="padding-top: 100px">
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10 box">
            <div>
                <div class="col-md-9">
                    <organism-view style="width:100%" org="$ctrl.currentOrg"
                                   taxid="$ctrl.currentOrg.taxid"></organism-view>
                </div>
                <div style="text-align: right" class="col-md-3">
                    <gene-download taxid="$ctrl.currentOrg.taxid"></gene-download>
                </div>
            </div>
        </div>
        <div class="col-md-1">
        </div>
    </div>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10 box">
            <div class="panel" style="height:300px; border: solid #385d94 2px; border-radius: 3px">
                <jbrowse-view ng-if="$ctrl.initialGene.entrez" entrez="$ctrl.initialGene.entrez"
                              gene="$ctrl.initialGene"
                              taxid="$ctrl.currentOrg.taxid"></jbrowse-view>
            </div>
        </div>
        <div class="col-md-1">
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
        <div class="panel panel-info">
            <div class="panel-heading">
                <div style="text-align: center">
                    <h4>Genes: {{ $ctrl.currentAllGenes.length }}</h4>
                    <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
                </div>
            </div>
            <div class="panel-body">
                <ul style="text-align: left;list-style: none;" class="example-animate-container">
                    <li dir-paginate="x in $ctrl.currentAllGenes | itemsPerPage: 10">
                        <div ng-click="$ctrl.onSelect(x)" class="btn btn-default strongColor"
                             style="margin-top:15px; width:100%; overflow: hidden; text-overflow: ellipsis">
                            <div class="col-md-7" style="text-align: left"><h4>{{ x.geneLabel.value }}</h4></div>
                            <div class="col-md-2"><h4>Locus Tag: {{ x.locusTag.value }} </h4></div>
                            <div class="col-md-2"><h4>Entrez: {{ x.entrez.value }} </h4></div>
                            <div class="col-md-1"><a target="_blank"
                                                     href="https://www.wikidata.org/wiki/{{ x.gene.value | parseQID }}">
                                <div class="btn btn-default"><img style="max-height: 30px" id="wikilogo"
                                                                  src="static/wiki/img/GeneWikidata-logo-en.png">
                                </div>
                            </a>
                            </div>
                        </div>
                    </li>
                </ul>
                <div style="text-align: center">
                    <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
                </div>
            </div>
        </div>


    </div>
    <div class="col-md-1">
    </div>
</div>
<footer></footer>