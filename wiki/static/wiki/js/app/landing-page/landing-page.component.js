angular.module('landingPage').component('landingPage',{controller:function(allChlamOrgs,recentChlamPubLinks,euroPubData,appData,$scope){var ctrl=this;ctrl.myInterval=5000;ctrl.noWrapSlides=false;ctrl.active=0;var currIndex=0;$scope.appName="Chlambase.org";appData.getAppData(function(data){console.log("i'm trying");ctrl.appName=data[0].appName;console.log(ctrl.appName);});ctrl.orgList=allChlamOrgs.getAllOrgs();recentChlamPubLinks.getRecentChlamPubLinks().then(function(data){var pubs=data.data.esearchresult.idlist;ctrl.recentPubs=[];angular.forEach(pubs,function(value){euroPubData.getEuroPubData(value).then(function(data){if(data.data.resultList.result[0]){ctrl.recentPubs.push(data.data.resultList.result[0]);}})});});document.getElementById("get-started").onclick=function(){var intro=introJs().setOption("skipLabel","Skip Tutorial");intro.setOption("showStepNumbers","false");intro.hideHints();intro.start();};window.addEventListener('load',function(){if(localStorage.getItem('tutorial')!='true'){var intro=introJs().setOption("skipLabel","Skip Tutorial");intro.setOption("showStepNumbers","false");intro.hideHints();intro.oncomplete(function(){console.log("COMPLETED");localStorage.setItem('tutorial','true');});intro.onexit(function(){console.log("EXIT");localStorage.setItem('tutorial','true');});intro.start();}else{console.log("Tutorial already completed");}});},templateUrl:'/static/wiki/js/angular_templates/landing-page.html'});