angular.module("genesKeyword").component("genesKeyword",{controller:["$location","$filter","allChlamOrgs","allChlamydiaGenes","searchBuilder",function(e,n,l,r,t){"use strict";var a=this;a.$onInit=function(){a.loading=!0,a.chlamGenes={},a.keyword=e.path().split("/")[2],a.orgData=[],l.getAllOrgs(function(e){angular.forEach(e,function(e){e.check=!0,a.orgData.push(e)})}),a.getChlamGenes=r.getAllChlamGenes().then(function(e){a.chlamGenes.allGenes=e.data.results.bindings,a.chlamGenes.keywordAll=n("keywordFilter")(a.chlamGenes.allGenes,a.keyword),a.chlamGenes.currentKW=a.chlamGenes.keywordAll,console.log(a.chlamGenes.currentKW)}).finally(function(){a.loading=!1})},a.facetOrganism=function(e){a.currentOrgsList=[],angular.forEach(a.orgData,function(e){1==e.check&&a.currentOrgsList.push(e.taxid)}),a.chlamGenes.currentKW=n("deleteJsonItemValuesList")("taxid",a.currentOrgsList,a.chlamGenes.keywordAll)}}],templateUrl:"/static/wiki/js/angular_templates/genes-keyword-browser.html"}).factory("searchBuilder",function(){return{buildQuery:function(e,n){}}});