angular.module("browserPage").component("browserPage",{controller:["$filter","$location","$routeParams","allChlamOrgs","allOrgGenes",function(t,n,e,r,l){"use strict";var a=this;a.$onInit=function(){a.loading=!0,a.currentTaxid=e.taxid,console.log(a.currentTaxid),r.getAllOrgs(function(e){a.orgList=e,a.currentOrg=t("getJsonItemOrg")("taxid",a.currentTaxid,a.orgList),null==a.currentOrg&&(alert("not a valid taxonomy id"),n.path("/"))}),l.getAllOrgGenes(a.currentTaxid).then(function(e){var n=e.data.results.bindings;a.currentAllGenes=t("orderObjectBy")(n,"genStart"),a.initialGene=a.currentAllGenes[0],console.log(a.currentAllGenes)}).finally(function(){a.loading=!1}),a.onSelect=function(e){n.path("/organism/"+a.currentTaxid+"/gene/"+e.locusTag.value)}}}],templateUrl:"/static/wiki/js/angular_templates/browser-page.html"});