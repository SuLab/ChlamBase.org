angular.module("browserPage").component("browserPage",{controller:function($filter,$location,$routeParams,allChlamOrgs,allOrgGenes){"use strict";var ctrl=this;ctrl.$onInit=function(){ctrl.loading=!0,ctrl.currentTaxid=$routeParams.taxid,console.log(ctrl.currentTaxid),allChlamOrgs.getAllOrgs(function(data){ctrl.orgList=data,ctrl.currentOrg=$filter("getJsonItemOrg")("taxid",ctrl.currentTaxid,ctrl.orgList),null==ctrl.currentOrg&&(alert("not a valid taxonomy id"),$location.path("/"))}),allOrgGenes.getAllOrgGenes(ctrl.currentTaxid).then(function(data){var dataResults=data.data.results.bindings;ctrl.currentAllGenes=$filter("orderObjectBy")(dataResults,"genStart"),ctrl.initialGene=ctrl.currentAllGenes[0],console.log(ctrl.currentAllGenes)}).finally(function(){ctrl.loading=!1}),ctrl.onSelect=function($item){$location.path("/organism/"+ctrl.currentTaxid+"/gene/"+$item.locusTag.value)}}},templateUrl:"/static/wiki/js/angular_templates/browser-page.html"});