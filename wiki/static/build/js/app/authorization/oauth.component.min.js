angular.module("oauthView").component("oauthView",{bindings:{},controller:function($window,$routeParams,$location,sendToView){"use strict";$routeParams.oauth_verifier&&(sendToView.sendToView("/wd_oauth",{url:$location.url()}).then(function(data){console.log(data)}),$location.url($location.path())),$location.path().includes("authorized")?this.authorization=!0:this.authorization=!1,this.oauthAuthorization=function(){sendToView.sendToView("/wd_oauth",{authorization:"sending",current_path:$location.path(),initiate:!0}).then(function(data){$window.location.href=data.data.wikimediaURL})},this.revokeAuthorization=function(){sendToView.sendToView("/wd_oauth",{deauthenticate:!0}).then(function(data){var org="/organism/{taxid}".replace("{taxid}",$routeParams.taxid),locusTag="/gene/{locusTag}/".replace("{locusTag}",$routeParams.locusTag);$location.url(org+locusTag)})}},templateUrl:"/static/wiki/js/angular_templates/authorization-view.html"});