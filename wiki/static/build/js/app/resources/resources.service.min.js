angular.module("resources").factory("allOrgs",["$resource",function(e){return e("/static/wiki/json/orgsList.json",{},{getAllOrgs:{method:"GET",params:{},isArray:!0,cache:!0}})}]),angular.module("resources").factory("allChlamOrgs",["$resource",function(e){return e("/static/wiki/json/chlamsOrgList.json",{},{getAllOrgs:{method:"GET",params:{},isArray:!0,cache:!0}})}]),angular.module("resources").factory("evidenceCodes",["$resource",function(e){return e("/static/wiki/json/evidence_codes.json",{},{getevidenceCodes:{method:"GET",params:{},isArray:!0,cache:!0}})}]),angular.module("resources").factory("mutantData",["$resource",function(e){return e("/static/wiki/json/kokes.json",{},{getKokesMutants:{method:"GET",params:{},isArray:!0,cache:!0}})}]),angular.module("resources").factory("expressionTimingData",["$resource",function(e){return e("/static/wiki/json/expression_timing.json",{},{getExpression:{method:"GET",params:{},isArray:!0,cache:!0}})}]),angular.module("resources").factory("orthoData",["$http","$q",function(n,o){return{getOrthologs:function(e){var r=o.defer(),t="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?orthoLocusTag ?orthoTaxid ?entrez ?uniprot ?refseq ?reference WHERE {{?gene wdt:P2393 '"+e+"'.?gene p:P684 ?statement.?statement ps:P684 ?ortholog.?ortholog wdt:P2393 ?orthoLocusTag.?ortholog wdt:P703 ?orthoTaxon.?orthoTaxon wdt:P685 ?orthoTaxid.?ortholog wdt:P351 ?entrez.?statement prov:wasDerivedFrom/pr:P248 ?reference.OPTIONAL {?ortholog wdt:P688 ?protein.?protein wdt:P352 ?uniprot.?protein wdt:P637 ?refseq.}}UNION{?gene wdt:P2393 '"+e+"'.?gene wdt:P2393 ?orthoLocusTag.?gene wdt:P703 ?orthoTaxon.?orthoTaxon wdt:P685 ?orthoTaxid.?gene wdt:P351 ?entrez.OPTIONAL {?gene wdt:P688 ?protein.?protein wdt:P352 ?uniprot.?protein wdt:P637 ?refseq.}}}");return n.get(t).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}}}]),angular.module("resources").factory("sendToView",["$http",function(n){return{sendToView:function(e,r){var t=e;return n.post(t,r).success(function(e){return e}).error(function(e,r){return r})}}}]),angular.module("resources").factory("uploadFile",["$http",function(n){return{uploadFile:function(e,r){var t=e;return n.post(t,r).success(function(e){return e}).error(function(e,r){return r})}}}]),angular.module("resources").factory("currentOrgFetch",["$http",function(r){return{getCurrentOrg:function(t){var e="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?taxid ?taxon ?taxonLabel WHERE{ ?taxon wdt:P685 '"+t+"'. SERVICE wikibase:label { bd:serviceParam wikibase:language 'en' . } }");return r.get(e).then(function(e){var r=e.data.results.bindings;return{taxid:t,taxon:r[0].taxon.value,taxonLabel:r[0].taxonLabel.value}})}}}]),angular.module("resources").factory("speciesGenes",["$http",function(t){return{getSpeciesGenes:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?protein ?proteinLabel ?uniprot WHERE{ ?taxon wdt:P685 '"+e+'\'. ?protein wdt:P352 ?uniprot;wdt:P703 ?taxon;rdfs:label ?proteinLabel.FILTER (lang(?proteinLabel) = "en") }');return console.log(r),t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("allOrgGenes",["$http",function(t){return{getAllOrgGenes:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?gene ?geneLabel ?proteinLabel ?protein ?entrez ?refseqProt ?locusTag ?uniprot ?chromosome ?chromosomeLabel ?refSeqChromosome ?refSeqChromosomeLabel ?genStart ?genEnd ?strand (group_concat(?aliases;separator=', ') as ?alias) WHERE{ ?taxon wdt:P685 '"+e+"'. ?gene wdt:P703 ?taxon; wdt:P279 wd:Q7187; wdt:P2393 ?locusTag; wdt:P351 ?entrez; wdt:P644 ?genStart; wdt:P645 ?genEnd; wdt:P2548 ?strand; skos:altLabel ?aliases. OPTIONAL {?gene wdt:P688 ?protein; wdt:P352 ?uniprot; wdt:P637 ?refseqProt. }?gene p:P644 ?chr. ?chr pq:P1057 ?chromosome. ?chromosome wdt:P2249 ?refSeqChromosome.SERVICE wikibase:label { bd:serviceParam wikibase:language 'en' .}} GROUP BY ?gene ?geneLabel ?protein ?proteinLabel ?entrez ?refseqProt ?locusTag ?uniprot ?chromosome ?chromosomeLabel ?genStart ?genEnd ?strand ?refSeqChromosome ?refSeqChromosomeLabel ");return console.log("Loading all organism genes"),t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("allOrgOperons",["$http",function(t){return{getAllOrgOperons:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?operon ?operonLabel WHERE{ ?taxon wdt:P685 '"+e+"'. ?operon wdt:P703 ?taxon; wdt:P279 wd:Q139677. SERVICE wikibase:label { bd:serviceParam wikibase:language 'en' .}} ");return t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("GOTerms",["$http",function(t){return{getGoTerms:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT  distinct ?gotermValueLabel ?goID ?gotermValue ?goclass ?determinationLabel ?reference_stated_inLabel ?reference_retrievedLabel ?ecnumber WHERE { ?protein wdt:P352 '"+e+'\'. {?protein p:P680 ?goterm} UNION {?protein p:P681 ?goterm} UNION {?protein p:P682 ?goterm}.  ?goterm pq:P459 ?determination .OPTIONAL {?goterm prov:wasDerivedFrom/pr:P248 ?reference_stated_in .}OPTIONAL {?goterm prov:wasDerivedFrom/pr:P813 ?reference_retrieved .}OPTIONAL {?goterm prov:wasDerivedFrom/pr:P698 ?pmid .}{?goterm ps:P680 ?gotermValue} UNION {?goterm ps:P681 ?gotermValue} UNION {?goterm ps:P682 ?gotermValue}.  ?gotermValue wdt:P279* ?goclass; wdt:P686 ?goID. FILTER ( ?goclass = wd:Q2996394 || ?goclass = wd:Q5058355 || ?goclass = wd:Q14860489) OPTIONAL {?gotermValue wdt:P591 ?ecnumber.}SERVICE wikibase:label { bd:serviceParam wikibase:language "en" .}}');return t.get(r).success(function(e){return e.data}).error(function(e){return e})}}}]),angular.module("resources").factory("InterPro",["$http",function(t){return{getInterPro:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT distinct ?protein ?interPro_item ?interPro_label ?ipID ?reference_stated_inLabel ?refURL WHERE {?proteinLabel wdt:P352'"+e+'\';p:P527 ?interPro.?interPro ps:P527 ?interPro_item.?interPro prov:wasDerivedFrom/pr:P248 ?reference_stated_in ;prov:wasDerivedFrom/pr:P854 ?refURL .?interPro_item wdt:P2926 ?ipID;rdfs:label ?interPro_label. SERVICE wikibase:label { bd:serviceParam wikibase:language "en" .}filter (lang(?interPro_label) = "en") .}');return t.get(r).then(function(e){return e.data.results.bindings})}}}]),angular.module("resources").factory("RefSeqChrom",["$http",function(t){return{getRefSeqChrom:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?refSeqChromosome WHERE{ \n  ?gene wdt:P2393 '"+e+"';        p:P644 ?chr.\n  ?chr pq:P1057 ?chromosome. \n  ?chromosome wdt:P2249 ?refSeqChromosome.\n  SERVICE wikibase:label { bd:serviceParam wikibase:language 'en' .}\n} \n");return t.get(r).then(function(e){return e.data.results.bindings})}}}]),angular.module("resources").factory("hostPathogen",["$http",function(t){return{getHostPathogen:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent('SELECT ?host ?hostLabel ?protein ?proteinLabel ?hostProtein ?hostGeneLabel ?hostProteinLabel ?reference_stated_in ?reference_stated_inLabel ?pmid (group_concat(distinct ?determination ;separator=", ") as ?dmethod) (group_concat(distinct ?det_label ;separator=", ") as ?dmethodLabel) WHERE{ ?protein wdt:P352 \''+e+'\'; wdt:P129 ?hostProtein; p:P129 ?hpClaim. ?hpClaim prov:wasDerivedFrom/pr:P248 ?reference_stated_in; pq:P459 ?determination. ?determination rdfs:label ?det_label. ?reference_stated_in wdt:P698 ?pmid. ?hostProtein wdt:P703 ?host; wdt:P702 ?hostGene. FILTER (lang(?det_label) = "en") SERVICE wikibase:label { bd:serviceParam wikibase:language "en" .}} GROUP BY ?protein ?hostGeneLabel ?proteinLabel ?reference_stated_in ?reference_stated_inLabel ?pmid ?hostProtein ?hostProteinLabel ?host ?hostLabel');return t.get(r).then(function(e){return e.data.results.bindings})}}}]),angular.module("resources").factory("OperonData",["$http",function(t){return{getOperonData:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?gene ?locusTag ?entrez ?operon ?operonLabel ?operonItem  ?operonItemLabel ?genStart ?genEnd ?strand ?strandLabel ?op_genes ?reference_stated_in ?reference_stated_inLabel ?op_genesLabel ?reference_pmid WHERE { ?gene wdt:P351 '"+e+"'; p:P361 ?operon. ?operon ps:P361 ?operonItem. ?operonItem wdt:P279 wd:Q139677; wdt:P527 ?op_genes. ?op_genes wdt:P2393 ?locusTag; wdt:P351 ?entrez; wdt:P644 ?genStart; wdt:P645 ?genEnd; wdt:P2548 ?strand.OPTIONAL { ?operon prov:wasDerivedFrom/pr:P248 ?reference_stated_in. ?reference_stated_in wdt:P698 ?reference_pmid. } SERVICE wikibase:label { bd:serviceParam wikibase:language 'en' . }}");return t.get(r).success(function(e){return e.data}).error(function(e){return e})}}}]),angular.module("resources").factory("expasyData",["$http",function(t){return{getReactionData:function(e){var r="https://chlambase.org/expasy/EC/{ecnumber}.txt".replace("{ecnumber}",e);return t.get(r).then(function(e){var n={reaction:[]},r=e.data.split("\n");return angular.forEach(r,function(e,r){if(e.match("^ID")&&(n.ecnumber=e.slice(5)),e.match("^CA ")){var t=e.replace(/^(CA)/,"");n.reaction.push(t)}}),n},function(e){return e})}}}]),angular.module("resources").factory("pubMedData",["$http",function(t){return{getPMID:function(r){var e="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id="+r;return t.get(e).success(function(e){return e.result[r]}).error(function(e){return e})}}}]),angular.module("resources").factory("locusTag2Pub",["$http",function(t){return{getlocusTag2Pub:function(e){var r="https://www.ebi.ac.uk/europepmc/webservices/rest/search?query=chlamydia%20{locusTag}&format=json".replace("{locusTag}",e);return t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("euroPubData",["$http",function(t){return{getEuroPubData:function(e){var r="https://www.ebi.ac.uk/europepmc/webservices/rest/search?query={pubmedID}&resulttype=core&format=json".replace("{pubmedID}",e);return t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("pubLinks",["$http","$filter",function(t,e){return{getPubLinks:function(e){var r="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?dbfrom=gene&db=pubmed&id={entrez}&retmode=json&linkname=gene_pubmed_pmc_nucleotide".replace("{entrez}",e);return t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("recentChlamPubLinks",["$http",function(r){return{getRecentChlamPubLinks:function(e){return r.get("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=chlamydia trachomatis&reldate=10&datetype=edat&retmax=100&usehistory=y&retmode=json").success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("allGoTerms",["$http",function(n){return{getGoTermsAll:function(e,r){var t="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT DISTINCT ?goterm ?goID ?goterm_label WHERE { ?goterm wdt:P279* wd:"+r+"; rdfs:label ?goterm_label; wdt:P686 ?goID. FILTER(lang(?goterm_label) = 'en') FILTER(CONTAINS(LCASE(?goterm_label), '"+e.toLowerCase()+"' ))}");return n.get(t).success(function(e){return e.data}).error(function(e){return e})}}}]),angular.module("resources").factory("allChlamydiaGenes",["$http",function(r){return{getAllChlamGenes:function(){var e="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?taxon ?taxid ?taxonLabel ?geneLabel ?entrez ?uniprot ?proteinLabel ?locusTag ?refseq_prot ?gene(GROUP_CONCAT(DISTINCT ?aliases) AS ?aliases) (GROUP_CONCAT(DISTINCT ?goLabel) AS ?goLabel) (GROUP_CONCAT(DISTINCT ?host_protein) AS ?host_protein) WHERE {?taxon wdt:P171* wd:Q846309.?gene wdt:P279 wd:Q7187.?gene wdt:P703 ?taxon.?gene wdt:P351 ?entrez.?gene wdt:P2393 ?locusTag.?gene skos:altLabel ?aliases.OPTIONAL {?gene wdt:P688 ?protein.?protein wdt:P352 ?uniprot.?protein wdt:P637 ?refseq_prot.OPTIONAL {?protein (wdt:P680 | wdt:P681 | wdt:P682)+/rdfs:label ?goLabel.FILTER(LANG(?goLabel) = 'en').}OPTIONAL {?protein wdt:P129+/rdfs:label ?host_protein}}?taxon wdt:P685 ?taxid.SERVICE wikibase:label { bd:serviceParam wikibase:language 'en'. }}GROUP BY ?locusTag ?taxon ?taxid ?taxonLabel ?geneLabel ?entrez ?uniprot ?proteinLabel ?refseq_prot ?gene");return r.get(e).success(function(e){return e.data}).error(function(e){return e})},getAllChlamGeneLabels:function(){var e="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT ?geneLabel ?locusTag ?taxid WHERE { ?taxon wdt:P171* wd:Q846309. ?gene wdt:P279 wd:Q7187.?gene wdt:P703 ?taxon.?gene wdt:P2393 ?locusTag.?taxon wdt:P685 ?taxid. SERVICE wikibase:label { bd:serviceParam wikibase:language 'en'. }}");return r.get(e).success(function(e){return e.data}).error(function(e){return e})}}}]),angular.module("resources").factory("wdGetEntities",function(){return{wdGetEntities:function(e){return $.ajax({url:"https://www.wikidata.org/w/api.php",jsonp:"callback",dataType:"jsonp",data:{action:"wbgetentities",ids:e,format:"json"},xhrFields:{withCredentials:!0},success:function(e){return e},error:function(e){return e}})}}}),angular.module("resources").factory("entrez2QID",["$http","$filter",function(t,e){return{getEntrez2QID:function(e){var r="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent("SELECT distinct ?gene ?protein WHERE{?gene wdt:P351 '{entrez}'; wdt:P688 ?protein.}".replace("{entrez}",e));return t.get(r).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("locusTag2QID",["$http","$filter",function(o,e){return{getLocusTag2QID:function(e,r){var t="SELECT distinct ?gene ?protein WHERE{?strain wdt:P685 '{taxid}'. ?gene wdt:P2393 '{locusTag}'; wdt:P703 ?strain. OPTIONAL {?gene wdt:P688 ?protein.}}".replace("{taxid}",r).replace("{locusTag}",e),n="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent(t);return o.get(n).success(function(e){return e}).error(function(e){return e})}}}]),angular.module("resources").factory("abstractSPARQL",["$http",function(a){return{getAbstractSPARQL:function(e,r,t){var n="PREFIX wd: <https://www.wikidata.org/entity/> PREFIX prov: <https://www.w3.org/ns/prov#> PREFIX pr: <https://www.wikidata.org/prop/reference/> PREFIX p: <https://www.wikidata.org/prop/> PREFIX ps: <https://www.wikidata.org/prop/statement/> SELECT (wd:prot_qid as ?sub) ?obj ?objLabel ?objDescription ?obj_id ?stated_in ?stated_inLabel ?retrieved ?reference_url ?language ?languageLabel ?curator ?curatorLabel ?determination ?determinationLabel WHERE {  wd:prot_qid p:an_prop ?claim .  ?claim ps:an_prop ?obj.  ?obj wdt:id_prop ?obj_id.   optional {?claim prov:wasDerivedFrom/pr:P248 ?stated_in. }   optional {?claim prov:wasDerivedFrom/pr:P813 ?retrieved. }   optional {?claim prov:wasDerivedFrom/pr:P854 ?reference_url. }   optional {?claim prov:wasDerivedFrom/pr:P407 ?language. }   optional {?claim prov:wasDerivedFrom/pr:P1640 ?curator. }   optional {?claim pq:P459 ?determination. }   SERVICE wikibase:label {         bd:serviceParam wikibase:language 'en' .  } }".replace(/prot_qid/g,e).replace(/an_prop/g,r).replace(/id_prop/g,t),o="https://query.wikidata.org/sparql?format=json&query="+encodeURIComponent(n);return console.log(n),a.get(o).success(function(e){return e}).error(function(e){return e})}}}]);